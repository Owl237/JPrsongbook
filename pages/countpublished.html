<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Count Links</title>
</head>
<body>
  <h1>Number of Links</h1>
  <p id="linkCount">Calculating...</p>

  <script>
    // Function to fetch the page and count the number of links
    async function countLinksOnPage(url) {
      try {
        // Fetch the page content
        const response = await fetch(url);
        if (!response.ok) {
          throw new Error(`HTTP error! Status: ${response.status}`);
        }

        // Get the page text
        const html = await response.text();

        // Parse the HTML content to a DOM object
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, "text/html");

        // Count the number of links (<a> tags)
        const links = doc.querySelectorAll("a");

        // Output the count to the HTML page
        document.getElementById("linkCount").textContent = `Number of links: ${links.length}`;
      } catch (error) {
        console.error("Error fetching or parsing the page:", error);
        document.getElementById("linkCount").textContent = "Error fetching or parsing the page.";
      }
    }

    // URL to process
    const pageUrl = "https://www.auntieshanty.org/songs/";

    // Call the function and count the links
    countLinksOnPage(pageUrl);
  </script>
</body>
</html>
